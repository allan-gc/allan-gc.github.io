<!DOCTYPE HTML>
<!--
	Massively by HTML5 UP
	html5up.net | @ajlkn
	Free for personal and commercial use under the CCA 3.0 license (html5up.net/license)
-->
<html>
	<head>
		<title>Davin Landry -RoboToe</title>
		<meta charset="utf-8" />
		<meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no" />
		<link rel="stylesheet" href="assets/css/main.css" />
		<noscript><link rel="stylesheet" href="assets/css/noscript.css" /></noscript>
	</head>
	<body class="is-preload">

		<!-- Wrapper -->
			<div id="wrapper">

				<!-- Header -->
					<header id="header">
						<a href="index.html" class="logo">Davin Landry</a>
					</header>

				<!-- Nav -->
					<nav id="nav">
						<ul class="links">
							<li><a href="index.html">Projects</a></li>
							<li><a href="https://drive.google.com/file/d/1gZ4xoXLDyC8LU_kWPDbZhLLVhZ4pC3HY/view?usp=sharing">Resume</a></li>
							<li><a href="About.html">About Me</a></li>
						</ul>
						<ul class="icons">
							<li><a href="https://www.linkedin.com/in/davinlandry/" class="icon brands fa-linkedin"><span class="label">Linkedin</span></a></li>
							<li><a href="https://github.com/dlandry97" class="icon brands fa-github"><span class="label">GitHub</span></a></li>
						</ul>
					</nav>

				<!-- Main -->
					<div id="main">

						<!-- Post -->
							<section class="post">
								<header class="major">
									<h1>Robo-Toe<br />
									</h1>
								</header>
                                <span class="image fit"><img src="assets/Robotoe/op3_laserfx2.jpg" alt="" /></span>

								<!-- Text stuff -->
									<!-- <h2>Text</h2>
									<p>This is <b>bold</b> and this is <strong>strong</strong>. This is <i>italic</i> and this is <em>emphasized</em>.
									This is <sup>superscript</sup> text and this is <sub>subscript</sub> text.
									This is <u>underlined</u> and this is code: <code>for (;;) { ... }</code>.
									Finally, this is a <a href="#">link</a>.</p> -->
                                    <p>This project is a continuation of the Robotic Feet project that I worked on at the IHMC in 2021. In this project, I test new feet designs on a smaller scale robot for cost efficenecy and controlability.</p>
                                    
                                    <h2>Overview</h2>

                                    <p> My hypothesis is that having an additional toe linkage would result in a more human-like walking gait and more efficient force transfer throughout locomotion. With toes, the robot would perform a more natural toe-off and heel strike action that improved efficiency by reducing the energy for forward movement. The toe-off/heel-strike gait also improves efficiency by reducing the lateral movement range of the torso during locomotion, leading to more consistent force and power requirements. 
                                        The addition of toes would also create a more efficient "roll-over shape" which would improve the efficiency for dynamic walking. </p>

									<h2>The Robot</h2>
									<p>The Robotis OP3 robot used in this experiment is a development humanoid driven by 20 dynamixel electric servo motors. There are 6 motors in each leg, 3 motors in each arm, and 2 motors in the head. Although the major degrees of freedom are similar between the op3 robot and the humanoid form, the joint positions on the leg are not anthropamorphic as each linkage is a uniform length to fit each motor into the op3 robot. 
										The robot's computer is an intel NUC that runs on linux mint and the robots operating system is ROS kinetic running several Robotis ROS packages. The Northwestern University Robotics lab owns the robot and asked me to update the OP3 operating system and packages to the current versions they use in the lab. 
										This process involved updating the intel NUC OS to ubuntu 20.04 and the the ROS version from Kinetic (2016) to Noetic (2020). The new ROS version also required me to update the Robotis OP3 packages in order to use the robot. Robotis had discontinued development for the OP3 robot in 2016, so I forked each ros package that needed to be changed and made adjustments to the code to function with ROS Noetic. This involved making changes from python 2 to python 3 and opencv 3 to opencv 4.
										I also needed to use an older version of orocos kinematics dynamics library so that the balance controller would run without issues. 

									</p>
                                    <h2>Design</h2>
                                    <p> Using the Onshape CAD software, I designed new feet that would replace the original feet on the OP3.
										The new feet are designed with a passive toe linkage, completing the 4th linkage that humans have for bipedal locomotion. The footprint dimentions of the feet were made similar to the original flat feet that come with the Robotis-op3 kit. Using the roll-over-shape formula of r = l/3, with r as the roll-over-shape radius and l as the leg length, The template of the roll over shape can be made and adjusted for a variety of angles. The toe linkage hinge is positioned for optimal force distrobution at a 25 degree angle. 

										 </p>
									<h2>Walking Gaits</h2>
									<p>The Robotis packages come with a default walking gait designed specifically for robotis robots including the OP3. There are adjustable parameters that you can manipulate with a gui demo in the software. The default walking gait uses ZMP (zero moment point) for balance and locomotion. The walking parameters were limited to only use flat footed walking as the OP3 was only inteded to have flat feet, meaning that even with toed feet attached, the robot would be unable to utilize its mechanics.
										The OP3 ros packages do not have the ability to easily add new walking controllers or new gaits. In order to utilize and test the toe mechanism, I needed to create my own walking gait from scratch using hardcoded joint states. 
										Using the human gait as reference, I created a new gait cycle for the OP3 that included stance/swing phases, single and double support phases, and the 8 stages of the human gait cycle: Heel-strike, loading response, mid-stance, terminal stance, pre-swing, toe-off, mid-swing, and terminal swing. The toe-off and knee straightening movement is used to propel the hips forward at the end of the double support phase. 
										The new gait I created nicely emulated the human gait and relies on the utilization of the toe mechanism. The hardcoded nature of the toed, human-like gait led to balance issues. Without the proper development of a balanced human walking gait, the system would not be able to consistantly function without falling to either side. 
										To keep the human-like gait stable during locomotion without a proper walking controller, the testrig/"baby walker" was adjusted to support the robot on either side to prevent the robot from falling and/or veering off course. The walker did not directly support the robot's weight or influence any forward movement. The robot's feet were supporting all of its weight and moved the robot forward. It only helped to stabilize the robot from side to side to prevent the robot from falling over.
									</p>
									
									<h2>Metrics</h2>
									<p>To compare the efficiency between flat footed walking and toed walking on the robot, several different metrics should be established: Step length, walking speed, potential energy efficiency, kinetic energy efficiency, and power consumption. 
										Originally, power consumption was going to be collected through directly measuring the current being supplied to each motor. This would be done using the dynamixel 2.0 protocol to read the current from each motor in realtime as the robot functions. 
										Unfortunatly, the read/write protocol and the robotis ros packages did not leave any ability to simultaniously read currents and operate the robot. I wrote ros packages that attempted to read the motor currents in the background, however the robot would freeze up and loose control due to the way the robotis software syncronized its read/write protocols.
										Moving forward, tracking kinetic and potential energy efficencies was the only way to gather energy metrics for the project. 
										
										The experiment would collect the amount of potential energy and kinetic energy expended durring the 2.5 meter walk as well as the number of steps and time it took to complete the walk. The results would compare the measurments between walking with toes and the default control case with flat footed walking.
									</p>
									
										<h2>Testing setup</h2>
									<p>To track the potential and kinetic energies, the realtime location of the robot's enter of mass needed to be tracked and recorded. This was done using an intel realsense camera and apriltags attached to the robot. An OP3 "baby walker" was made to mount the cameras, april tags, and catch the robot from falling to prevent damage to the robot.</p>
        
                                    <h3>Photos of testing setup</h3>
									<p>The realsense camera is mounted in front of the robot to record the positions of 2 apriltags. One april tag located on the center of mass of the robot, and the other attached to the testing rig structure as a reference position. This setup is able to track the x and y position of the robot in real time. 
										A experimental trial consisted of a 2.5 meter walk, using the "baby walker" to track the center of mass location of the robot, along with the time it took to complete the walk. 
									</p>

									<h2>Results</h2>
									<p>The results of the experiment show a few key differences. First, the step length of the toed walking gait is significantly larger than the flat footed walking gait. 
										The step length difference also contributes to the amount of steps taken and the amount of time needed to walk 2.5 meters. The Human-like gait took less time to walk 2.5 meters and needed less steps to do so in every trial.
										The displacement in the x (horizontal) direction is significantly higher in the flat footed gait than the human-like gait. This side to side swinging is used to keep the center of mass of the robot over the support foot, and would alternate as each step is taken. 
										The x displacement is factored into the kinetic energy expenditure and shows that the flat footed walking gait uses more energy moving its center of mass from left to right than its human gait counterpart.
										The human-like gait has less side to side movement because the center of mass is not always stable, and falls forward in the swing phase to be caught by the heel-strike. This is one of the defining characterisitcs of the human gait.
										
										Another characteristic I was focused on was the hip height throughout the gait cycles. I was expecting to see more fluctuation in the hip height during the human-like gait, however the opposite was the case. 
										From the y-displacement data, the potential energy conservation was more efficent in the flat-footed gait. This is likely due to the flat-footed gait keeping knees bent and the hips level at all times, reducing the hip height movement and keeping the system as stable as possible during locomotion. 

									  </p>

									  <h2>conclusion</h2>
									  <p>
										This experiment has shows that there is benefit in the utilization of toes in bipedal robots for its energy efficiency and locomotion speed in comparison to the standard flat footed walking most bipedal robots adopt. The issues with implimenting toes on robot bipeds involve the additional degree of freedom increasing the complexity of the system, requiring a more complex walking controller to keep the robot stable.
										As development of toed robots and more human-like gait patterns increases, more benefits in efficiency and effectiveness may emerge.
										Additional benefits might include human-like asthetic in the appearance of the walking gait.
									  </p>


                                    <span class="image fit"><img src="assets/IHMC/test_setup.jpg" alt="" /></span>
                    
							

							</section>

					</div>

				<!-- Footer -->
				<footer id="footer">
					<section>
						<header id="header">
							<a href="https://github.com/ME495-EmbeddedSystems/final-project-vestibular" class="logo">View on Github</a>
						</header>
					</section>
				</footer>
               

				<!-- Copyright -->
					<div id="copyright">
						<ul><li>&copy; Davin Landry</li><li>Design: <a href="https://html5up.net">HTML5 UP</a></li></ul>
					</div>

			</div>

		<!-- Scripts -->
			<script src="assets/js/jquery.min.js"></script>
			<script src="assets/js/jquery.scrollex.min.js"></script>
			<script src="assets/js/jquery.scrolly.min.js"></script>
			<script src="assets/js/browser.min.js"></script>
			<script src="assets/js/breakpoints.min.js"></script>
			<script src="assets/js/util.js"></script>
			<script src="assets/js/main.js"></script>

	</body>
</html>